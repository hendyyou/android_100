package cn.digione.yibaic.shop.ui;import android.os.Bundle;import android.support.v4.app.Fragment;import android.support.v4.app.FragmentManager;import android.support.v4.app.FragmentTransaction;import android.view.View;import android.view.inputmethod.InputMethodManager;import android.widget.Button;import cn.digione.yibaic.shop.R;import cn.digione.yibaic.shop.util.Log;/** * Created with IntelliJ IDEA. * User: youzh * Date: 14-3-4 * Time: 下午4:22 */public class StepsFragment extends BaseFragment implements View.OnClickListener {    protected Button mButtonFinish;    protected Button mButtonNext;    protected Button mButtonPrevious;    @Override    public void onClick(View view) {        if (view == mButtonPrevious) {            onButtonPreviousClicked();        } else {            if (view == mButtonNext) {                onButtonNextClicked();                return;            }            if (view == mButtonFinish) {                onButtonFinishClicked();                return;            }        }    }    protected void displaySoftInputIfNeed(View view, boolean flag) {        InputMethodManager inputmethodmanager = (InputMethodManager) getActivity().getSystemService("input_method");        if (flag && getResources().getConfiguration().orientation == 1) {            inputmethodmanager.showSoftInput(view, 0);            return;        } else {            inputmethodmanager.hideSoftInputFromWindow(view.getWindowToken(), 0);            return;        }    }    protected void onButtonFinishClicked() {        Log.d("on button finish clicked");        getActivity().setResult(-1);        getActivity().finish();    }    protected void onButtonNextClicked() {    }    protected void onButtonPreviousClicked() {        getFragmentManager().popBackStack();    }    public void onViewCreated(View view, Bundle bundle) {        super.onViewCreated(view, bundle);        mButtonPrevious = (Button) view.findViewById(R.id.btn_previous);        mButtonNext = (Button) view.findViewById(R.id.btn_next);        mButtonFinish = (Button) view.findViewById(R.id.btn_finish);        if (mButtonPrevious != null) {            mButtonPrevious.setOnClickListener(this);        }        if (mButtonNext != null) {            mButtonNext.setOnClickListener(this);        }        if (mButtonFinish != null) {            mButtonFinish.setOnClickListener(this);        }    }    protected void replaceToFragment(Fragment fragment, boolean flag) {        FragmentManager fragmentmanager = getFragmentManager();        FragmentTransaction fragmenttransaction = fragmentmanager.beginTransaction();        if (flag) {            int i = fragmentmanager.getBackStackEntryCount();            for (int j = 0; j < i; j++) {                fragmentmanager.popBackStack();            }        }        ;        fragmenttransaction.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);        fragmenttransaction.replace(R.id.fragment_container, fragment);        if (!flag) {            fragmenttransaction.addToBackStack(null);        }        fragmenttransaction.commitAllowingStateLoss();    }    public void setButtonNextGone(boolean flag) {        if (mButtonNext != null) {            byte byte0;            if (flag) {                byte0 = View.GONE;            } else {                byte0 = View.VISIBLE;            }            mButtonNext.setVisibility(byte0);            return;        } else {            Log.w("button next is null");            return;        }    }    public void setButtonPreviousGone(boolean flag) {        if (mButtonPrevious != null) {            byte byte0;            if (flag) {                byte0 = View.GONE;            } else {                byte0 = View.VISIBLE;            }            mButtonPrevious.setVisibility(byte0);            return;        } else {            Log.w("button previous is null");            return;        }    }    protected void triggerNextStep() {        onButtonNextClicked();    }}